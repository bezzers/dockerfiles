FROM ubuntu

MAINTAINER Paul Beswick

# Add the repository we need to get Java
RUN add-apt-repository ppa:webupd8team/java

# Install the desktop and other key utilities
RUN apt-get update && \
    apt-get install -y lxde-core \
                       lxterminal \
                       wget \
                       tightvncserver \
                       python-software-properties

# Install Java, accept the license and set the environment variables
RUN add-apt-repository ppa:webupd8team/java && \
    apt-get-install oracle-java8-installer && \
    echo oracle-java8-installer shared/accepted-oracle-license-v1-1 select true | /usr/bin/debconf-set-selections && \
    apt-get install -y oracle-java8-set-default
                       
# Download and install WebStorm                       
RUN wget -O - download.jetbrains.com/webstorm/WebStorm-10.0.4.tar.gz | tar zxf - && \
    cd WebStorm*/bin && \
    bash webstorm.sh
    
# Install docker
#wget -qO- https://get.docker.com/ | sh

# Clean up temporary files    
RUN rm -rf /var/lib/apt/lists/* && \
    rm -rf /tmp/*

# Expose the port that vnc will connect to
EXPOSE 5901

USER user
#VOLUME /home/developer/.WebIde90
#CMD /opt/phpstorm/bin/phpstorm.sh
